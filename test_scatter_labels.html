<!DOCTYPE html>
<html>
<head>
    <title>Test Scatter Plot</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <div id="scatter-test" style="width: 100%; height: 600px;"></div>

    <script>
        const testSpec = {
          "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
          "title": "Test Scatter Plot with Labels",
          "width": 600,
          "height": 400,
          "data": {
            "values": [
              {"State": "Queensland", "State_Code": "QLD", "Employment_Rate": 61.9, "WageIndex": 149.5},
              {"State": "New South Wales", "State_Code": "NSW", "Employment_Rate": 62.8, "WageIndex": 150.8},
              {"State": "Victoria", "State_Code": "VIC", "Employment_Rate": 63.1, "WageIndex": 150.3}
            ]
          },
          "layer": [
            {
              "mark": {"type": "circle", "size": 300},
              "encoding": {
                "x": {"field": "Employment_Rate", "type": "quantitative"},
                "y": {"field": "WageIndex", "type": "quantitative"}
              }
            },
            {
              "mark": {
                "type": "text",
                "align": "left",
                "dx": 10,
                "fontSize": 12
              },
              "encoding": {
                "x": {"field": "Employment_Rate", "type": "quantitative"},
                "y": {"field": "WageIndex", "type": "quantitative"},
                "text": {"field": "State_Code", "type": "nominal"}
              }
            }
          ]
        };

        vegaEmbed('#scatter-test', testSpec).then(function(result) {
            console.log('✅ Test scatter plot loaded successfully');
        }).catch(function(error) {
            console.error('❌ Error loading test scatter plot:', error);
        });
    </script>
</body>
</html>