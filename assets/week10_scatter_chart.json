{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Australian Labour Market Performance Analysis",
    "subtitle": "Employment Rate vs Wage Index by State (Q3 2025)",
    "fontSize": 20,
    "anchor": "start",
    "color": "#2c3e50",
    "subtitleFontSize": 14,
    "subtitleColor": "#7f8c8d",
    "offset": 20
  },
  "width": 800,
  "height": 500,
  "data": {
    "url": "../data/merged_labour_data.csv"
  },
  "params": [
    {
      "name": "quarterFilter",
      "value": "2025-Q3",
      "bind": {
        "input": "select",
        "options": ["2025-Q3", "All Quarters"],
        "labels": ["Q3 2025 (Latest)", "All Available Quarters"],
        "name": "Select Quarter: "
      }
    },
    {
      "name": "highlightState",
      "select": {
        "type": "point",
        "on": "mouseover"
      }
    }
  ],
  "transform": [
    {
      "filter": "quarterFilter == 'All Quarters' || datum.Year_Quarter == quarterFilter"
    }
  ],
  "layer": [
    {
      "mark": {
        "type": "circle",
      "stroke": "#6b7280",
        "strokeWidth": 1,
        "opacity": 0.85,
        "cursor": "pointer"
      },
      "encoding": {
        "x": {
          "field": "Employment_Rate",
          "type": "quantitative",
          "title": "Employment Rate (%)",
          "scale": {
            "domain": [55, 70],
            "nice": true
          },
          "axis": {
            "grid": true,
            "gridOpacity": 0.3,
            "tickCount": 8,
            "titleFontSize": 14,
            "labelFontSize": 12
          }
        },
        "y": {
          "field": "WageIndex",
          "type": "quantitative",
          "title": "Wage Price Index (2017=100)",
          "scale": {
            "domain": [145, 155],
            "nice": true
          },
          "axis": {
            "grid": true,
            "gridOpacity": 0.3,
            "tickCount": 6,
            "titleFontSize": 14,
            "labelFontSize": 12
          }
        },
        "size": {
          "field": "Job_Vacancies",
          "type": "quantitative",
          "title": "Job Vacancies",
          "scale": {
            "type": "sqrt",
            "range": [100, 1000],
            "nice": true
          },
          "legend": {
            "orient": "right",
            "titleFontSize": 12,
            "labelFontSize": 10,
            "symbolType": "circle",
            "values": [10000, 50000, 100000]
          }
        },
        "color": {
          "field": "Economic_Performance_Score",
          "type": "quantitative",
          "title": "Economic Performance Score",
          "scale": {
            "type": "linear",
            "range": ["#ffffe0", "#c7e9e4", "#7fb8d6"],
            "domain": [30, 65]
          },
          "legend": {
            "orient": "right",
            "titleFontSize": 12,
            "labelFontSize": 10,
            "gradientLength": 200
          }
        },
        "stroke": {
          "condition": {
            "param": "highlightState",
            "value": "#2c3e50"
          },
          "value": "transparent"
        },
        "strokeWidth": {
          "condition": {
            "param": "highlightState",
            "value": 3
          },
          "value": 1
        },
        "opacity": {
          "condition": {
            "param": "highlightState",
            "value": 1.0
          },
          "value": 0.8
        },
        "tooltip": [
          {
            "field": "State",
            "type": "nominal",
            "title": "State/Territory"
          },
          {
            "field": "Employment_Rate",
            "type": "quantitative",
            "title": "Employment Rate",
            "format": ".1f"
          },
          {
            "field": "WageIndex",
            "type": "quantitative",
            "title": "Wage Index",
            "format": ".1f"
          },
          {
            "field": "WageGrowthRate",
            "type": "quantitative",
            "title": "Wage Growth Rate (%)",
            "format": ".2f"
          },
          {
            "field": "Job_Vacancies",
            "type": "quantitative",
            "title": "Job Vacancies",
            "format": ","
          },
          {
            "field": "Labour_Force",
            "type": "quantitative",
            "title": "Labour Force",
            "format": ","
          },
          {
            "field": "Economic_Performance_Score",
            "type": "quantitative",
            "title": "Performance Score",
            "format": ".1f"
          },
          {
            "field": "Employment_to_Wage_Ratio",
            "type": "quantitative",
            "title": "Employment-to-Wage Efficiency",
            "format": ".3f"
          }
        ]
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "middle",
        "dx": 8,
        "dy": -8,
        "fontSize": 11,
        "fontWeight": "bold",
        "color": "#2c3e50"
      },
      "encoding": {
        "x": {
          "field": "Employment_Rate",
          "type": "quantitative"
        },
        "y": {
          "field": "WageIndex",
          "type": "quantitative"
        },
        "text": {
          "field": "State_Code",
          "type": "nominal"
        },
        "opacity": {
          "condition": {
            "param": "highlightState",
            "value": 1.0
          },
          "value": 0.7
        }
      }
    },
    {
      "transform": [
        {
          "filter": "datum.State == 'Western Australia'"
        }
      ],
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "bottom",
        "dx": 0,
        "dy": -15,
        "fontSize": 12,
        "fontWeight": "bold",
        "color": "#e74c3c",
        "text": "Highest Wages"
      },
      "encoding": {
        "x": {
          "field": "Employment_Rate",
          "type": "quantitative"
        },
        "y": {
          "field": "WageIndex",
          "type": "quantitative"
        }
      }
    },
    {
      "transform": [
        {
          "filter": "datum.State == 'Tasmania'"
        }
      ],
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "top",
        "dx": 0,
        "dy": 15,
        "fontSize": 12,
        "fontWeight": "bold",
        "color": "#3498db",
        "text": "Lowest Employment"
      },
      "encoding": {
        "x": {
          "field": "Employment_Rate",
          "type": "quantitative"
        },
        "y": {
          "field": "WageIndex",
          "type": "quantitative"
        }
      }
    },
    {
      "transform": [
        {
          "filter": "datum.State == 'Australian Capital Territory'"
        }
      ],
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "bottom",
        "dx": 0,
        "dy": -15,
        "fontSize": 12,
        "fontWeight": "bold",
        "color": "#27ae60",
        "text": "Highest Employment"
      },
      "encoding": {
        "x": {
          "field": "Employment_Rate",
          "type": "quantitative"
        },
        "y": {
          "field": "WageIndex",
          "type": "quantitative"
        }
      }
    },
    {
      "mark": {
        "type": "rule",
        "color": "#95a5a6",
        "strokeDash": [5, 5],
        "opacity": 0.6
      },
      "encoding": {
        "x": {
          "aggregate": "mean",
          "field": "Employment_Rate",
          "type": "quantitative"
        }
      }
    },
    {
      "mark": {
        "type": "rule",
        "color": "#95a5a6",
        "strokeDash": [5, 5],
        "opacity": 0.6
      },
      "encoding": {
        "y": {
          "aggregate": "mean",
          "field": "WageIndex",
          "type": "quantitative"
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "right",
        "baseline": "bottom",
        "dx": -5,
        "dy": -5,
        "fontSize": 10,
        "color": "#7f8c8d",
        "text": "Average Employment Rate"
      },
      "encoding": {
        "x": {
          "aggregate": "mean",
          "field": "Employment_Rate",
          "type": "quantitative"
        },
        "y": {
          "value": 495
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "top",
        "dx": 5,
        "dy": 5,
        "fontSize": 10,
        "color": "#7f8c8d",
        "text": "Average Wage Index"
      },
      "encoding": {
        "x": {
          "value": 5
        },
        "y": {
          "aggregate": "mean",
          "field": "WageIndex",
          "type": "quantitative"
        }
      }
    }
  ],
  "resolve": {
    "scale": {
      "color": "independent",
      "size": "independent"
    }
  },
  "config": {
    "background": "#fafafa",
    "view": {
      "stroke": "transparent"
    },
    "font": "Inter, sans-serif",
    "title": {
      "font": "Inter, sans-serif",
      "fontWeight": "bold"
    },
    "axis": {
      "labelFont": "Inter, sans-serif",
      "titleFont": "Inter, sans-serif"
    },
    "legend": {
      "labelFont": "Inter, sans-serif",
      "titleFont": "Inter, sans-serif"
    },
    "range": {
      "category": [
        "#e74c3c", "#3498db", "#2ecc71", "#f39c12", 
        "#9b59b6", "#1abc9c", "#e67e22", "#95a5a6"
      ]
    }
  }
}